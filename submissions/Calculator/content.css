/* Tab Persona Content Styles */

/* Global mood-based animations */
:root {
    --animation-speed: 1;
    --animation-style: ease;
    --tab-persona-primary: #667eea;
}

/* Smooth transitions for all mood changes */
* {
    transition-duration: calc(0.3s * var(--animation-speed)) !important;
    transition-timing-function: var(--animation-style) !important;
}

/* Motivational overlay base styles */
#tab-persona-motivational {
    font-feature-settings: "liga" 1, "kern" 1;
    letter-spacing: 0.3px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Focus timer styles */
#focus-timer {
    cursor: pointer;
    user-select: none;
}

#focus-timer:hover {
    transform: scale(1.05);
    background: rgba(255, 107, 107, 1) !important;
}

/* Chill mode styles */
.tab-persona-chill * {
    transition-duration: 0.4s !important;
}

.tab-persona-chill a:hover {
    color: var(--tab-persona-primary) !important;
    text-shadow: 0 0 8px rgba(102, 126, 234, 0.3);
}

.tab-persona-chill button:hover {
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2) !important;
}

/* Hyperfocus mode styles */
.tab-persona-hyperfocus {
    position: relative;
}

.tab-persona-hyperfocus::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle at center,
        transparent 40%,
        rgba(0, 0, 0, 0.05) 70%,
        rgba(0, 0, 0, 0.1) 100%
    );
    pointer-events: none;
    z-index: 1;
}

.tab-persona-hyperfocus * {
    transition-duration: 0.1s !important;
}

.tab-persona-hyperfocus .advertisement,
.tab-persona-hyperfocus .ads,
.tab-persona-hyperfocus [class*="ad-"],
.tab-persona-hyperfocus [id*="ad-"] {
    filter: blur(2px) !important;
    opacity: 0.1 !important;
}

/* Playful mode styles */
.tab-persona-playful button {
    overflow: hidden;
    position: relative;
}

.tab-persona-playful button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    transition: width 0.6s, height 0.6s;
    transform: translate(-50%, -50%);
    border-radius: 50%;
}

.tab-persona-playful button:hover::before {
    width: 300px;
    height: 300px;
}

.tab-persona-playful h1,
.tab-persona-playful h2,
.tab-persona-playful h3 {
    position: relative;
    overflow: hidden;
}

/* Zen mode styles */
.tab-persona-zen {
    font-smoothing: antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.tab-persona-zen * {
    transition-duration: 0.5s !important;
    transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.tab-persona-zen p,
.tab-persona-zen div,
.tab-persona-zen span {
    line-height: 1.7 !important;
}

.tab-persona-zen h1,
.tab-persona-zen h2,
.tab-persona-zen h3 {
    font-weight: 300 !important;
    letter-spacing: 1px !important;
}

/* Breathing reminder animation */
@keyframes breathe {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.9;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.1);
        opacity: 1;
    }
}

/* Tab persona indicator pulse */
@keyframes indicatorPulse {
    0%, 100% {
        opacity: 0.1;
        transform: scale(1);
    }
    50% {
        opacity: 0.3;
        transform: scale(1.1);
    }
}

/* Scroll-triggered focus reminder */
.tab-persona-scroll-reminder {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 107, 107, 0.95);
    color: white;
    padding: 15px 20px;
    border-radius: 25px;
    font-size: 14px;
    z-index: 10002;
    animation: fadeInScale 0.3s ease-out;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
    to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* Custom scrollbar for different moods */
.tab-persona-chill ::-webkit-scrollbar {
    width: 8px;
}

.tab-persona-chill ::-webkit-scrollbar-track {
    background: linear-gradient(180deg, #667eea, #764ba2);
    border-radius: 4px;
}

.tab-persona-chill ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
}

.tab-persona-hyperfocus ::-webkit-scrollbar {
    width: 4px;
}

.tab-persona-hyperfocus ::-webkit-scrollbar-track {
    background: #ff6b6b;
}

.tab-persona-hyperfocus ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.5);
}

.tab-persona-playful ::-webkit-scrollbar {
    width: 12px;
}

.tab-persona-playful ::-webkit-scrollbar-track {
    background: linear-gradient(45deg, #feca57, #ff9ff3);
}

.tab-persona-playful ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.4);
    border-radius: 6px;
}

.tab-persona-zen ::-webkit-scrollbar {
    width: 6px;
}

.tab-persona-zen ::-webkit-scrollbar-track {
    background: #74b9ff;
}

.tab-persona-zen ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
}

/* Selection colors based on mood */
.tab-persona-chill ::selection {
    background: rgba(102, 126, 234, 0.3);
}

.tab-persona-hyperfocus ::selection {
    background: rgba(255, 107, 107, 0.3);
}

.tab-persona-playful ::selection {
    background: rgba(254, 202, 87, 0.3);
}

.tab-persona-zen ::selection {
    background: rgba(116, 185, 255, 0.3);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    #tab-persona-motivational {
        right: 10px !important;
        top: 10px !important;
        max-width: 200px !important;
        font-size: 11px !important;
    }
    
    #focus-timer {
        right: 10px !important;
        top: 40px !important;
        font-size: 10px !important;
    }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
    .tab-persona-playful button::before,
    .tab-persona-playful h1,
    .tab-persona-playful h2,
    .tab-persona-playful h3 {
        animation: none !important;
    }
    
    * {
        transition-duration: 0.1s !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    #tab-persona-motivational {
        background: rgba(0, 0, 0, 0.95) !important;
        border: 2px solid white !important;
    }
    
    #focus-timer {
        background: rgba(255, 0, 0, 0.95) !important;
        border: 1px solid white !important;
    }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
    .tab-persona-zen p,
    .tab-persona-zen div,
    .tab-persona-zen span {
        color: rgba(255, 255, 255, 0.8) !important;
    }
    
    .tab-persona-zen a {
        border-bottom-color: rgba(116, 185, 255, 0.5) !important;
    }
}