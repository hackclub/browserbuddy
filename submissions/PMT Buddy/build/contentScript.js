(()=>{"use strict";var e={432:(e,t,n)=>{n.d(t,{D:()=>r});var o=n(535);const r=new class{constructor(){this.settings={},this.categories=[]}addSetting({name:e=null,id:t,category:n="None",defaultValue:o=!1,info:r=""}){void 0===this.settings[n]&&(this.settings[n]=[],this.categories.push(n));const s={name:e??t,id:t,defaultValue:o,info:r};return this.settings[n].push(s),this}getSettings(){return this.settings}getCategories(){return this.categories}getHTML(){let e="";return this.categories.forEach((t=>{e+=`<details class="settings-category">    <summary>${t}</summary>`,this.settings[t].forEach((t=>{e+=`    <label class="setting" title="${t.info}">        ${t.name}        <input type="checkbox" id="${t.id}"/>    </label>`})),e+="</details>"})),""===e&&(e="<p>No settings available</p>"),e}async initStorage(){const e=await o.s.getAll(),t=this.getSettings();this.getCategories().forEach((n=>{t[n].forEach((async t=>{void 0===e[t.id]&&await o.s.set(t.id,t.defaultValue)}))}))}};r.addSetting({name:"Clean up PDFs",id:"pmt_CleanUpPdfs",category:"Physics and Maths Tutor",defaultValue:!0,info:"Redirects PDFs to the original source to remove the white sidebar."}).addSetting({name:"Hide paid tutor content",id:"pmt_BlockPmtTutor",category:"Physics and Maths Tutor",defaultValue:!1,info:"Hides most paid PMT Education content."}).addSetting({name:"Unblock 'Revision Notes'",id:"sme_unblockRevisionNotes",category:"SaveMyExams",defaultValue:!0,info:"View revision notes without logging in."}).addSetting({name:"Remove premium plan offer banners",id:"sme_removePremiumPlanBanners",category:"SaveMyExams",defaultValue:!0,info:"Removes the premium plan offer banners, including Black Friday sales. (currently broken)"}).addSetting({name:"Hide 'Premium' banners",id:"studocu_HidePremiumBanners",category:"studocu",defaultValue:!0,info:"Hides annoying banner on premium documents (cannot unblur pages)."}).initStorage()},535:(e,t,n)=>{n.d(t,{s:()=>o});class o{static get=async e=>new Promise(((t,n)=>chrome.storage.local.get(e,(e=>chrome.runtime.lastError?n(Error(chrome.runtime.lastError.message)):t(e)))));static set=async(e,t)=>{chrome.storage.local.set({[e]:t})};static async getAll(){return await this.get(null)}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=n(432),r=n(535);const s="https://i.ibb.co/stVfRPL/icon-128.png";!async function(){const e=await r.s.getAll();Object.values(e).some((e=>void 0===e))&&await o.D.initStorage();const t=window.location.href;addEventListener("load",(()=>{t.startsWith("https://www.physicsandmathstutor.com/")&&(e.pmt_CleanUpPdfs&&(()=>{const e=document.getElementsByTagName("iframe")[0]?.src;e&&/.*\.pdf/.test(e)&&(window.location.href=e)})(),e.pmt_BlockPmtTutor&&(()=>{const e=document.querySelectorAll(".info-banner");e&&e.forEach((e=>{const t=e.querySelector(".info-button")?.href??"";/https:\/\/www\.pmt\.education\/tutor\/.*/.test(t)&&e.remove()})),document.querySelectorAll(".tutor-profile-box").forEach((e=>e.remove())),document.querySelectorAll(".dropshadowboxes-container").forEach((e=>{const t=e.getElementsByTagName("a");t&&Array.from(t).forEach((t=>{const n=t?.href??"";console.log(n),/https:\/\/www\.pmt\.education\/(courses|tutor)\/.*/.test(n)&&e.remove()}))}))})()),t.startsWith("https://www.savemyexams.com/")&&(e.sme_unblockRevisionNotes&&(()=>{let e=!1;new MutationObserver(((t,n)=>{e||document.querySelector(".revision-notes_blur__iugNW")&&(e=!0,n.disconnect(),(()=>{const e=`\n        <div class="Card_card__7rJy4 bg-body-secondary rounded-3 p-4 pmt-buddy-notice">\n            <img src="${s}" alt="pmt-buddy-icon" width=40 height=40>\n            <h4 class="h5">pmtbuddy-title</h4>\n            <div>\n                <p>pmtbuddy-text</p>\n            </div>\n        </div>`,t=document.querySelector(".revision-notes_blur__iugNW");let n=document.querySelectorAll(".Parts_parts__KB319");if(0===n.length&&(n=document.querySelectorAll(".row.g-4")),0===n.length)return void t.insertAdjacentHTML("beforebegin",e.replace("pmtbuddy-title","Failed to unlock").replace("pmtbuddy-text","Try reloading the page"));t.insertAdjacentHTML("beforebegin",e.replace("pmtbuddy-title","Unlocked by PMT Buddy").replace("pmtbuddy-text",'<a href="mailto:cleaver-exact-chip@duck.com">Contact me</a> if you run into any issues.'));let o=t;n.forEach((e=>{o.insertAdjacentElement("afterend",e),o=e}));const r=document.querySelector(".SignUpCard_card__0U5gw");r?.remove()})())})).observe(document,{childList:!0,subtree:!0})})(),e.sme_removePremiumPlanBanners&&(()=>{let e=!1;new MutationObserver(((t,n)=>{if(e)return;const o=document.getElementsByClassName("UpsellBanner_banner__jw3IG");o.length>0&&(Array.from(o).forEach((e=>e.remove())),n?.disconnect(),e=!0)}))})()),t.startsWith("https://www.studocu.com/")&&e.studocu_HidePremiumBanners&&(()=>{let e=!1;new MutationObserver(((t,n)=>{e||document.querySelector("._761ee514a558")&&(e=!0,n.disconnect(),document.querySelectorAll("._761ee514a558").forEach((e=>e.remove())))})).observe(document,{childList:!0,subtree:!0})})()})),a(),window.addEventListener("urlchange",(()=>{}))}();const a=()=>{let e=location.href;new MutationObserver((()=>{const t=location.href;t!==e&&(e=t,window.dispatchEvent(new Event("urlchange")))})).observe(document,{subtree:!0,childList:!0})}})();
//# sourceMappingURL=contentScript.js.map